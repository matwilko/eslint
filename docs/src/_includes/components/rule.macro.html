{% from 'components/rule-list.macro.html' import ruleList %}

{%- macro rule(params) -%}
<a href="{{ ['/rules/', params.name] | join | url }}" class="rule{{ ' deprecated' if params.deprecated }}{{ ' removed' if params.removed }}{{ 'recommended' if params.recommended }}{{ ' fixable' if params.fixable }}{{ ' hasSuggestions' if params.hasSuggestions }}{{ 'hasReplacement' if params.replacedBy }}">
    <p>{{ params | dump }}</p>
    <div class="content">
        <p class="name">
            {{ params.name }}
            <span class="deprecated">deprecated</span>
            <span class="removed">removed</span>
        </p>
        <p class="replacedBy">Replaced by {{ ruleList({ rules: params.replacedBy }) }}</p>
        <p class="description">{{ params.description }}</p>
    </div>

    <div class="categories">
        <span class="donotuse" title="Do Not Use">❌</span>
        <span class="recommended" title="Recommended" aria-hidden="{{ params.recommended }}">✅</span>
        <span class="fixable" title="Fixable" aria-hidden="{{ not params.removed and params.fixable }}">🔧</span>
        <span class="hasSuggestions" title="Has Suggestions" aria-hidden="{{ not params.removed and params.hasSuggestions }}">💡</span>
    </div>

</a>
{%- endmacro -%}
